{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/bunny_riding.png","webpack:///./src/assets/stopper_idle.png","webpack:///./src/vue/Game.vue?5228","webpack:///./src/assets/bunny_flying.png","webpack:///./src/game/sounds/asteroid.mp3","webpack:///./src/game/sounds/asteroid.ogg","webpack:///./src/game/sounds/ship.ogg","webpack:///./src/game/sounds/shoot.ogg","webpack:///./src/game/sounds/shoot.mp3","webpack:///./src/App.vue?efe4","webpack:///./src/vue/Game.vue?a5c3","webpack:///./src/game/components/Animation.ts","webpack:///./src/game/components/Audio.ts","webpack:///./src/game/components/Collision.ts","webpack:///./src/game/components/DeathThroes.ts","webpack:///./src/game/components/Display.ts","webpack:///./src/game/components/GameState.ts","webpack:///./src/game/components/Motion.ts","webpack:///./src/game/components/MotionControls.ts","webpack:///./src/game/components/Position.ts","webpack:///./src/game/components/CameraShake.ts","webpack:///./src/game/components/Barrier.ts","webpack:///./src/game/components/Bunny.ts","webpack:///./src/game/components/GUI.ts","webpack:///./src/game/components/Slope.ts","webpack:///./src/game/GameConfig.ts","webpack:///./src/game/graphics/SlopeView.ts","webpack:///./src/game/Keyboard.ts","webpack:///./src/game/nodes.ts","webpack:///./src/game/EntityCreator.ts","webpack:///./src/game/KeyPoll.ts","webpack:///./src/game/systems/AnimationSystem.ts","webpack:///./src/game/systems/CollisionSystem.ts","webpack:///./src/game/systems/AudioSystem.ts","webpack:///./src/game/systems/DeathThroesSystem.ts","webpack:///./src/game/gui/BasePopup.ts","webpack:///./src/game/gui/Button.ts","webpack:///./src/game/gui/GameEnd.ts","webpack:///./src/game/gui/GameProcess.ts","webpack:///./src/game/gui/Intro.ts","webpack:///./src/game/model/User.ts","webpack:///./src/game/model/Client.ts","webpack:///./src/game/gui/LeadersTableRow.ts","webpack:///./src/game/gui/Leaders.ts","webpack:///./src/game/systems/GameManager.ts","webpack:///./src/game/systems/SystemPriorities.ts","webpack:///./src/game/systems/HudSystem.ts","webpack:///./src/game/systems/MotionControlSystem.ts","webpack:///./src/game/systems/MovementSystem.ts","webpack:///./src/game/systems/RenderSystem.ts","webpack:///./src/game/sounds/index.ts","webpack:///./src/game/TouchPoll.ts","webpack:///./src/game/systems/EnvironmentEmitterSystem.ts","webpack:///./src/game/AssetsLoader.ts","webpack:///./src/game/Game.ts","webpack:///./src/vue/Game.vue","webpack:///./src/vue/Game.vue?2301","webpack:///./src/vue/Game.vue?db89","webpack:///./src/App.vue","webpack:///./src/App.vue?c9fc","webpack:///./src/App.vue?665f","webpack:///./src/main.ts","webpack:///./src/game/sounds/ship.mp3","webpack:///./src/assets/ui/info_plate_big.png","webpack:///./src/assets/floor.png","webpack:///./src/assets/packs/gui.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","ref","animation","toPlay","sound","radius","width","height","countdown","displayObject","state","GameState","INTRO","lives","level","hits","shots","PLAY","GAME_END","gameState","PAUSE","LEADERS","velocityX","velocityY","angularVelocity","damping","left","right","top","down","x","y","rotation","magnitude","time","startX","startY","startAngle","tiltAngle","randomInt","min","max","Math","floor","random","upAndDownShake","sprite","fsm","IDLE","RIDING","FLYING","FELT","slopeView","velosityX","screenScale","screenWidth","GameConfig","DEFAULT_SCREEN_WIDTH","screenHeight","DEFAULT_SCREEN_HEIGHT","floorElementWidth","floorElementHeight","__instanse","DEFAULT_LIVES_COUNT","DEFAULT_SCREEN_SIZE_AREA","DEFAULT_ASTEROIDS_MIN_COUNT","DEFAULT_ASTEROID_MAX_SIZE","DEFAULT_CAMERA_SHAKE_MAGNITUDE_FOR_ASTEROID","DEFAULT_CAMERA_SHAKE_TIME_FOR_ASTEROID","DEFAULT_CAMERA_SHAKE_MAGNITUDE_FOR_SPACESHIP","DEFAULT_CAMERA_SHAKE_TIME_FOR_SPACESHIP","SCALE_SCREEN_TO_DEFAULT_SCREEN_SIZE_AREA","DRAW_ROUGH","texture","MIN_TILES_COUNT","WIDTH","HEIGHT","tiles","scale","set","tile","getTile","setTransform","addChild","text","UP","AnimationNode","AudioNode","audio","DeathThroesNode","death","GameNode","MovementNode","control","position","motion","RenderNode","display","GUINode","BunnyControlNode","bunny","collision","BunnyCollisionNode","BunnyNode","shake","SlopeNode","slope","BarrierCollisionNode","barrier","entitiesNames","GAME","CAMERA","engine","config","assets","cameraPosition","getTexture","anchor","entity","add","addEntity","riding","getAssets","flying","createState","withInstance","changeState","removeEntity","container","removePopup","list","getNodeList","head","destroyEntity","gameEntity","camera","getEntityByName","filters","BlurFilter","WORD_SIZE","keys","Int32Array","keyDownHandler","event","keyCode","index","keyUpHandler","addEventListener","isDown","node","animate","creator","barriers","next","distance","hypot","cameraShake","resolve","reject","padding","maxWidth","maxHeight","background","setupBackground","title","setupTitle","setupContent","showPopup","Promise","console","log","textStyle","fontFamily","fontSize","fill","textureButton","textureButtonOver","textureButtonDown","isOver","signalClick","Signal","onButtonDown","e","onButtonUp","dispatch","onButtonOver","onButtonOut","interactive","buttonMode","on","score","coins","handleClick","ok","handleOk","coin","alpha","leftArrow","handleLeftArrowClick","label","record","userName","leadboard","handleLeaders","play","handlePlay","getRandomInt","ceil","makeid","characters","charactersLength","charAt","arr","numb","Date","now","setTimeout","user","backgroundName","getBackgroundTexture","textStyleIndex","textIndex","backgroundScore","textStyleName","getTextColor","textName","textScore","tables","currentTable","currentTableText","rightArrow","table","updateTable","handleRightArrowClick","removeChildren","loading","getLeaders","then","parent","removeChild","lastY","Leaders","TABLE_ROWS_COUNT","row","SystemPriorities","games","currentGameState","createGameView","gameNode","cameraBlur","execute","changeGameState","catch","createBunny","game","update","keyPoll","touchPoll","click","gravity","options","emitStageEvents","entityCreator","gameConfig","resized","nodes","guis","deltaX","deltaY","deltaAngle","addGUI","guiContainer","updateGUI","addToDisplay","gameContainer","updateNode","emit","handleWindowResize","removeFromDisplay","app","backgroundColor","renderer","stage","view","registerCameraContainer","resize","appendChild","nodeAdded","nodeRemoved","gui","round","render","rect","getBoundingClientRect","style","remove","Sounds","sounds","asteroid","mp3","a","ogg","shoot","ship","audioTypeDetect","document","createElement","canPlayMp3","canPlayType","canPlayOgg","type","loadAudioDB","audioContext","audioDB","Map","loadSound","url","fetch","response","arrayBuffer","decodeAudioData","audioBuffer","all","map","mouseDown","mouseDownX","mouseDownY","mouseDownTimestamp","mouseDownRadius","mouseMoveX","mouseMoveY","clickTimeout","mouseLeft","mouseRight","mouseTop","mouseBottom","handleTouchStart","touches","clientX","clientY","handleTouchEnd","handleTouchMove","resetDirections","getDistance","handleMouseDown","handleMouseUp","handleMouseMove","body","x1","y1","x2","y2","b","sqrt","timeout","addBarrier","createSlope","createBarrier","json","loadJSON","loadImage","fileName","itr","indexOf","canvas","getImageFromMap","from","frames","element","sheet","spriteSourceSize","w","h","ctx","getContext","drawImage","frame","image","onload","src","skip","tickProvider","count","foo","res","clientWidth","clientHeight","AudioContext","delta","start","addSystem","preUpdate","move","resolveCollisions","createGame","$refs","components","component","Game","productionTip","$mount"],"mappings":"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","file":"js/app.a298e0f6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/bunny_riding.e24c0602.png\";","module.exports = __webpack_public_path__ + \"img/stopper_idle.67fa3696.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=77c8f861&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/bunny_flying.f6af0bd3.png\";","module.exports = __webpack_public_path__ + \"media/asteroid.700707dc.mp3\";","module.exports = __webpack_public_path__ + \"media/asteroid.960a0b4d.ogg\";","module.exports = __webpack_public_path__ + \"media/ship.606800c8.ogg\";","module.exports = __webpack_public_path__ + \"media/shoot.164324a9.ogg\";","module.exports = __webpack_public_path__ + \"media/shoot.ecff5374.mp3\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap_container\",attrs:{\"id\":\"app\"}},[_c('game',{staticClass:\"wrap_container\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"game\",staticClass:\"game wrap_container\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Animatable } from '../graphics';\r\n\r\nexport class Animation {\r\n  public animation:Animatable;\r\n\r\n  public constructor(animation:Animatable) {\r\n    this.animation = animation;\r\n  }\r\n}\r\n","import { Sounds } from '../sounds';\r\n\r\nexport class Audio {\r\n  public toPlay:Sounds[] = [];\r\n\r\n  public play(sound:Sounds):void {\r\n    this.toPlay.push(sound);\r\n  }\r\n}\r\n","export class Collision {\r\n    public radius = 0;\r\n    public width = 0;\r\n    public height = 0;\r\n\r\n    public constructor(radius = 0, width = 0, height = 0) {\r\n        this.radius = radius;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n}","export class DeathThroes {\r\n  public countdown:number;\r\n\r\n  public constructor(countdown:number) {\r\n    this.countdown = countdown;\r\n  }\r\n}\r\n","import { DisplayObject } from 'pixi.js';\r\n\r\nexport class Display {\r\n  public displayObject:DisplayObject;\r\n\r\n  public constructor(displayObject:DisplayObject) {\r\n    this.displayObject = displayObject;\r\n  }\r\n}\r\n","export class GameState {\r\n\r\n    public static INTRO = 'intro';\r\n    public static PLAY = 'play';\r\n    public static PAUSE = 'pause';\r\n    public static GAME_END = 'end';\r\n    public static LEADERS = 'leaders';\r\n\r\n    public state = GameState.INTRO;\r\n\r\n    public lives = 0;\r\n    public level = 0;\r\n    public hits = 0;\r\n    public shots = 0;\r\n\r\n    public setForStart(): void {\r\n        this.lives = 3;\r\n        this.level = 0;\r\n        this.hits = 0;\r\n        this.shots = 0;\r\n        this.state = GameState.PLAY;\r\n    }\r\n\r\n    public setForFinish(): void {\r\n        this.state = GameState.GAME_END;\r\n    }\r\n\r\n    public update(gameState: GameState): void {\r\n        this.lives = gameState.lives;\r\n        this.level = gameState.level;\r\n        this.hits = gameState.hits;\r\n        this.shots = gameState.shots;\r\n        this.state = gameState.state;\r\n    }\r\n}\r\n","export class Motion {\r\n  public velocityX:number;\r\n\r\n  public velocityY:number;\r\n\r\n  public angularVelocity:number;\r\n\r\n  public damping:number;\r\n\r\n  public constructor(\r\n    velocityX:number,\r\n    velocityY:number,\r\n    angularVelocity = 0,\r\n    damping = 0,\r\n  ) {\r\n    this.velocityX = velocityX;\r\n    this.velocityY = velocityY;\r\n    this.angularVelocity = angularVelocity;\r\n    this.damping = damping;\r\n  }\r\n}\r\n","export class MotionControls {\r\n\r\n    public left: number;\r\n    public right: number;\r\n    public top: number;\r\n    public down: number;\r\n\r\n    public constructor(\r\n        left = 0,\r\n        right = 0,\r\n        top = 0,\r\n        down = 0,\r\n    ) {\r\n        this.left = left;\r\n        this.right = right;\r\n        this.top = top;\r\n        this.down = down;\r\n    }\r\n}\r\n","export class Position {\r\n  public x:number;\r\n\r\n  public y:number;\r\n\r\n  public rotation:number;\r\n\r\n  public constructor(x:number, y:number, rotation = 0) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.rotation = rotation;\r\n  }\r\n}\r\n","import { DisplayObject } from \"@pixi/display\";\r\nimport { Animatable } from '../graphics/Animatable';\r\n\r\nexport class CameraShake implements Animatable {\r\n    public readonly displayObject: DisplayObject;\r\n\r\n    startX = 0\r\n    startY = 0;\r\n    startAngle = 0;\r\n\r\n    magnitude = 16;\r\n    tiltAngle = 1;\r\n\r\n    constructor(displayObject: DisplayObject, magnitude = 16, private time = 1) {\r\n        this.displayObject = displayObject;\r\n        this.magnitude = magnitude;\r\n\r\n        this.startX = displayObject.x;\r\n        this.startY = displayObject.y;\r\n        this.startAngle = displayObject.rotation;\r\n    }\r\n\r\n    animate(time: number): void {\r\n        this.time -= time;\r\n        this.upAndDownShake();\r\n        // this.angularShake();\r\n    }\r\n\r\n    upAndDownShake(): void {\r\n        const sprite: DisplayObject = this.displayObject;\r\n        if (this.time >= 0) {\r\n            sprite.x = this.startX;\r\n            sprite.y = this.startY;\r\n            \r\n            const magnitude = this.magnitude * this.time;\r\n\r\n            sprite.x += this.randomInt(-magnitude, magnitude);\r\n            sprite.y += this.randomInt(-magnitude, magnitude);\r\n        } else {\r\n            sprite.x = this.startX;\r\n            sprite.y = this.startY;\r\n        }\r\n    }\r\n\r\n    angularShake() {\r\n        const sprite: DisplayObject = this.displayObject;\r\n        if (this.time >= 0) {\r\n            const magnitude = this.magnitude * this.time;\r\n\r\n            sprite.rotation = this.startAngle + magnitude * this.tiltAngle / 100;\r\n            this.tiltAngle *= -1;\r\n        } else {\r\n            sprite.rotation = this.startAngle;\r\n        }\r\n    }\r\n\r\n\r\nrandomInt = (min: number, max: number) => {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n}","export class Barrier {\r\n}\r\n","import { EntityStateMachine } from '@ash.ts/ash';\r\n\r\nexport default class Bunny {\r\n    public static IDLE = 'idle';\r\n    public static RIDING = 'riding';\r\n    public static FLYING = 'flying';\r\n    public static FELT = 'felt';\r\n\r\n    public fsm: EntityStateMachine;\r\n\r\n    public constructor(fsm: EntityStateMachine) {\r\n        this.fsm = fsm;\r\n    }\r\n}\r\n","import { DisplayObject } from 'pixi.js';\r\n\r\nexport class GUI {\r\n    public displayObject: DisplayObject;\r\n\r\n    public constructor(displayObject: DisplayObject) {\r\n        this.displayObject = displayObject;\r\n    }\r\n}\r\n","import { SlopeView } from \"../graphics/SlopeView\";\r\n\r\nexport default class Slope {\r\n    private slopeView: SlopeView | null = null;\r\n    \r\n    constructor(slopeView: SlopeView) {\r\n        this.slopeView = slopeView;\r\n    }\r\n\r\n    public set velocityX(value: number) {\r\n        if (this.slopeView) {\r\n            this.slopeView.velosityX = value;\r\n        }\r\n    }\r\n}","export class GameConfig {\r\n\r\n    private static __instanse: GameConfig | null = null;\r\n\r\n    public static readonly DEFAULT_LIVES_COUNT = 3;\r\n\r\n    public static readonly  DEFAULT_SCREEN_WIDTH = 800;\r\n    public static readonly  DEFAULT_SCREEN_HEIGHT = 600;\r\n    public static readonly  DEFAULT_SCREEN_SIZE_AREA =GameConfig.DEFAULT_SCREEN_WIDTH * GameConfig.DEFAULT_SCREEN_HEIGHT;\r\n    public static readonly  DEFAULT_ASTEROIDS_MIN_COUNT = 2;\r\n    public static readonly  DEFAULT_ASTEROID_MAX_SIZE = 30;\r\n\r\n    public static readonly  DEFAULT_CAMERA_SHAKE_MAGNITUDE_FOR_ASTEROID = GameConfig.DEFAULT_ASTEROID_MAX_SIZE / 8;\r\n    public static readonly  DEFAULT_CAMERA_SHAKE_TIME_FOR_ASTEROID = 2;\r\n\r\n    public static readonly  DEFAULT_CAMERA_SHAKE_MAGNITUDE_FOR_SPACESHIP = GameConfig.DEFAULT_ASTEROID_MAX_SIZE / 4;\r\n    public static readonly  DEFAULT_CAMERA_SHAKE_TIME_FOR_SPACESHIP = 3;\r\n    \r\n    public static readonly  SCALE_SCREEN_TO_DEFAULT_SCREEN_SIZE_AREA = true;\r\n\r\n    public static readonly DRAW_ROUGH = true;\r\n\r\n    public screenScale = 1;\r\n    public screenWidth = GameConfig.DEFAULT_SCREEN_WIDTH;\r\n    public screenHeight = GameConfig.DEFAULT_SCREEN_HEIGHT;\r\n\r\n    public floorElementWidth = 400;\r\n    public floorElementHeight = 300;\r\n\r\n    public constructor(width: number, height: number) {\r\n        if (!GameConfig.__instanse) {\r\n            GameConfig.__instanse = this;\r\n            this.screenWidth = width;\r\n            this.screenHeight = height;\r\n        }\r\n    }\r\n\r\n    public static get screenWidth(): number {\r\n        return GameConfig.__instanse ? GameConfig.__instanse.screenWidth : GameConfig.DEFAULT_SCREEN_WIDTH;\r\n    }\r\n\r\n    public static get screenHeight(): number {\r\n        return GameConfig.__instanse ? GameConfig.__instanse.screenHeight : GameConfig.DEFAULT_SCREEN_HEIGHT;\r\n    }\r\n\r\n    public static get scaleTexture(): number {\r\n        return GameConfig.__instanse!.screenScale;\r\n    }\r\n\r\n    public static get floorElementWidth(): number {\r\n        return GameConfig.__instanse ? GameConfig.__instanse.floorElementWidth : 400;\r\n    }\r\n\r\n    public static get floorElementHeight(): number {\r\n        return GameConfig.__instanse ? GameConfig.__instanse.floorElementHeight : 300;\r\n    }\r\n\r\n}\r\n","import { Container, Graphics, Texture, Text, TextStyle, Sprite } from 'pixi.js';\r\nimport { GameConfig } from '../GameConfig';\r\nimport { Animatable } from './Animatable';\r\n\r\nexport class SlopeView extends Container implements Animatable {\r\n\r\n    private readonly MIN_TILES_COUNT = 4;\r\n    private WIDTH = 512;\r\n    private HEIGHT = 64;\r\n    private tiles: Array<Container> = [];\r\n    private left = 0;\r\n\r\n    public velosityX = 0;\r\n\r\n    public constructor(private texture: Texture) {\r\n        super();\r\n\r\n        this.scale.set(.5);\r\n\r\n        this.WIDTH = this.texture.width;\r\n        this.HEIGHT = this.texture.height;\r\n\r\n        const length = Math.max(this.MIN_TILES_COUNT, 2 * Math.floor(GameConfig.screenWidth / this.WIDTH));\r\n        this.left = -1 * (length * this.WIDTH) / 2;\r\n\r\n        const tile: Sprite = this.getTile(0 + '');\r\n        tile.setTransform(this.left);\r\n        this.tiles.push(tile);\r\n        this.addChild(tile);\r\n\r\n        for (let i = 1; i < length; i++) {\r\n            const tile: Sprite = this.getTile(i + '');\r\n            tile.setTransform(this.tiles[this.tiles.length - 1].x + this.WIDTH);\r\n            this.tiles.push(tile);\r\n            this.addChild(tile);\r\n        }\r\n    }\r\n\r\n    private getTile(text: string): Sprite {\r\n        const sprite: Sprite = new Sprite(this.texture);\r\n\r\n        return sprite;\r\n    }\r\n\r\n    public animate(time: number): void {\r\n        \r\n        if (!this.tiles.length) {\r\n            return;\r\n        }\r\n        this.tiles[0].setTransform(this.tiles[0].x + this.velosityX * time);\r\n\r\n        for (let i = 1; i < this.tiles.length; i++) {\r\n            this.tiles[i].setTransform(this.tiles[i - 1].x + this.WIDTH, 0);\r\n        }\r\n\r\n        if (this.tiles[0].x <= this.left - this.WIDTH) {\r\n            this.tiles[0].setTransform(this.tiles[this.tiles.length - 1].x + this.WIDTH, 0);\r\n            this.tiles.push(this.tiles.shift()!);\r\n            this.addChild(this.tiles[this.tiles.length - 1]);\r\n        }\r\n    }\r\n}\r\n","export const NUMBER_0 = 48;\r\nexport const NUMBER_1 = 49;\r\nexport const NUMBER_2 = 50;\r\nexport const NUMBER_3 = 51;\r\nexport const NUMBER_4 = 52;\r\nexport const NUMBER_5 = 53;\r\nexport const NUMBER_6 = 54;\r\nexport const NUMBER_7 = 55;\r\nexport const NUMBER_8 = 56;\r\nexport const NUMBER_9 = 57;\r\nexport const A = 65;\r\nexport const B = 66;\r\nexport const C = 67;\r\nexport const D = 68;\r\nexport const E = 69;\r\nexport const F = 70;\r\nexport const G = 71;\r\nexport const H = 72;\r\nexport const I = 73;\r\nexport const J = 74;\r\nexport const K = 75;\r\nexport const L = 76;\r\nexport const M = 77;\r\nexport const N = 78;\r\nexport const O = 79;\r\nexport const P = 80;\r\nexport const Q = 81;\r\nexport const R = 82;\r\nexport const S = 83;\r\nexport const T = 84;\r\nexport const U = 85;\r\nexport const V = 86;\r\nexport const W = 87;\r\nexport const X = 88;\r\nexport const Y = 89;\r\nexport const Z = 90;\r\nexport const NUMPAD_0 = 96;\r\nexport const NUMPAD_1 = 97;\r\nexport const NUMPAD_2 = 98;\r\nexport const NUMPAD_3 = 99;\r\nexport const NUMPAD_4 = 100;\r\nexport const NUMPAD_5 = 101;\r\nexport const NUMPAD_6 = 102;\r\nexport const NUMPAD_7 = 103;\r\nexport const NUMPAD_8 = 104;\r\nexport const NUMPAD_9 = 105;\r\nexport const NUMPAD_MULTIPLY = 106;\r\nexport const NUMPAD_ADD = 107;\r\nexport const NUMPAD_ENTER = 108;\r\nexport const NUMPAD_SUBTRACT = 109;\r\nexport const NUMPAD_DECIMAL = 110;\r\nexport const NUMPAD_DIVIDE = 111;\r\nexport const F1 = 112;\r\nexport const F2 = 113;\r\nexport const F3 = 114;\r\nexport const F4 = 115;\r\nexport const F5 = 116;\r\nexport const F6 = 117;\r\nexport const F7 = 118;\r\nexport const F8 = 119;\r\nexport const F9 = 120;\r\nexport const F10 = 121; //  F10 is used by browser\r\nexport const F11 = 122;\r\nexport const F12 = 123;\r\nexport const F13 = 124;\r\nexport const F14 = 125;\r\nexport const F15 = 126;\r\nexport const BACKSPACE = 8;\r\nexport const TAB = 9;\r\nexport const ALTERNATE = 18;\r\nexport const ENTER = 13;\r\nexport const COMMAND = 15;\r\nexport const SHIFT = 16;\r\nexport const CONTROL = 17;\r\nexport const BREAK = 19;\r\nexport const CAPS_LOCK = 20;\r\nexport const NUMPAD = 21;\r\nexport const ESCAPE = 27;\r\nexport const SPACE = 32;\r\nexport const PAGE_UP = 33;\r\nexport const PAGE_DOWN = 34;\r\nexport const END = 35;\r\nexport const HOME = 36;\r\nexport const LEFT = 37;\r\nexport const RIGHT = 39;\r\nexport const UP = 38;\r\nexport const DOWN = 40;\r\nexport const INSERT = 45;\r\nexport const DELETE = 46;\r\nexport const NUMLOCK = 144;\r\nexport const SEMICOLON = 186;\r\nexport const EQUAL = 187;\r\nexport const COMMA = 188;\r\nexport const MINUS = 189;\r\nexport const PERIOD = 190;\r\nexport const SLASH = 191;\r\nexport const BACKQUOTE = 192;\r\nexport const LEFTBRACKET = 219;\r\nexport const BACKSLASH = 220;\r\nexport const RIGHTBRACKET = 221;\r\nexport const QUOTE = 222;\r\n","import { defineNode } from '@ash.ts/ash';\r\nimport {\r\n  Animation,\r\n  Audio,\r\n  Collision,\r\n  DeathThroes,\r\n  Display,\r\n  GameState,\r\n  Motion,\r\n  MotionControls,\r\n  Position,\r\n  CameraShake,\r\n} from './components';\r\nimport { Barrier } from './components/Barrier';\r\nimport Bunny from './components/Bunny';\r\nimport { GUI } from './components/GUI';\r\nimport Slope from './components/Slope';\r\n\r\nexport const AnimationNode = defineNode({\r\n  animation: Animation,\r\n}, 'AnimationNode');\r\nexport type AnimationNode = InstanceType<typeof AnimationNode>;\r\n\r\nexport const AudioNode = defineNode({\r\n  audio: Audio,\r\n}, 'AudioNode');\r\nexport type AudioNode = InstanceType<typeof AudioNode>;\r\n\r\nexport const DeathThroesNode = defineNode({\r\n  death: DeathThroes,\r\n}, 'DeathThroesNode');\r\nexport type DeathThroesNode = InstanceType<typeof DeathThroesNode>;\r\n\r\nexport const GameNode = defineNode({\r\n  state: GameState,\r\n}, 'GameNode');\r\nexport type GameNode = InstanceType<typeof GameNode>;\r\n\r\nexport const MotionControlNode = defineNode({\r\n  control: MotionControls,\r\n  position: Position,\r\n  motion: Motion,\r\n}, 'MotionControlNode');\r\nexport type MotionControlNode = InstanceType<typeof MotionControlNode>;\r\n\r\nexport const MovementNode = defineNode({\r\n  position: Position,\r\n  motion: Motion,\r\n}, 'MovementNode');\r\nexport type MovementNode = InstanceType<typeof MovementNode>;\r\n\r\nexport const RenderNode = defineNode({\r\n  position: Position,\r\n  display: Display,\r\n}, 'RenderNode');\r\nexport type RenderNode = InstanceType<typeof RenderNode>;\r\n\r\nexport const GUINode = defineNode({\r\n    position: Position,\r\n    display: GUI,\r\n  }, 'RenderNode');\r\n  export type GUINode = InstanceType<typeof GUINode>;\r\n\r\nexport const BunnyControlNode = defineNode({\r\n    bunny: Bunny,\r\n    position: Position,\r\n    collision: Collision,\r\n    control: MotionControls,\r\n    motion: Motion,\r\n  //   audio: Audio,\r\n}, 'BunnyControlNode');\r\nexport type BunnyControlNode = InstanceType<typeof BunnyControlNode>;\r\n\r\nexport const BunnyCollisionNode = defineNode({\r\n  bunny: Bunny,\r\n  position: Position,\r\n  collision: Collision,\r\n//   audio: Audio,\r\n}, 'BunnyCollisionNode');\r\nexport type BunnyCollisionNode = InstanceType<typeof BunnyCollisionNode>;\r\n\r\nexport const CameraShakeNode = defineNode({\r\n    shake: CameraShake,\r\n  }, 'CameraShakeNode');\r\nexport type CameraShakeNode = InstanceType<typeof CameraShakeNode>;\r\n\r\nexport const BunnyNode = defineNode({\r\n    bunny: Bunny,\r\n    position: Position,\r\n    motion: Motion,\r\n}, 'BunnyNode');\r\nexport type BunnyNode = InstanceType<typeof BunnyNode>;\r\n\r\nexport const SlopeNode = defineNode({\r\n    slope: Slope,\r\n    position: Position,\r\n}, 'SlopeNode');\r\nexport type SlopeNode = InstanceType<typeof SlopeNode>;\r\n\r\nexport const BarrierCollisionNode = defineNode({\r\n    barrier: Barrier,\r\n    position: Position,\r\n    collision: Collision,\r\n  //   audio: Audio,\r\n  }, 'BarrierCollisionNode');\r\nexport type BarrierCollisionNode = InstanceType<typeof BarrierCollisionNode>;","import { Engine, Entity, EntityStateMachine, NodeList } from '@ash.ts/ash';\r\nimport { Container, filters, Sprite } from 'pixi.js';\r\nimport AssetsLoader from './AssetsLoader';\r\nimport {\r\n    Animation,\r\n    CameraShake,\r\n    Collision,\r\n    DeathThroes,\r\n    Display,\r\n    GameState,\r\n    Motion,\r\n    MotionControls,\r\n    Position\r\n} from './components';\r\nimport { Barrier } from './components/Barrier';\r\nimport Bunny from './components/Bunny';\r\nimport { GUI } from './components/GUI';\r\nimport Slope from './components/Slope';\r\nimport { GameConfig } from './GameConfig';\r\nimport { SlopeView } from './graphics/SlopeView';\r\nimport * as Keyboard from './Keyboard';\r\nimport { GameNode, GUINode } from './nodes';\r\n\r\nexport const entitiesNames = {\r\n    GAME: 'game',\r\n    CAMERA: 'camera',\r\n}\r\n\r\nexport class EntityCreator {\r\n    private engine: Engine;\r\n    private config: GameConfig;\r\n    private assets: AssetsLoader;\r\n    private cameraPosition: Position = new Position(0, 0);\r\n\r\n    public constructor(engine: Engine, config: GameConfig, assets: AssetsLoader) {\r\n        this.engine = engine;\r\n        this.config = config;\r\n        this.assets = assets;\r\n    }\r\n\r\n    public getAssets(): AssetsLoader {\r\n        return this.assets;\r\n    }\r\n\r\n    public createBarrier(x: number): Entity {\r\n        const sprite: Sprite = new Sprite(this.assets.getTexture('stopper_idle')!);\r\n        sprite.anchor.set(.5);\r\n\r\n        const entity: Entity = new Entity()\r\n            .add(new Barrier())\r\n            .add(new Display(sprite))\r\n            .add(new Position(x, -sprite.height / 2))\r\n            .add(new Collision(sprite.width / 2));\r\n\r\n        this.engine.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    public createBunny(): Entity {\r\n        const entity: Entity = new Entity();\r\n        const fsm: EntityStateMachine = new EntityStateMachine(entity);\r\n\r\n        const motion: Motion = new Motion(2000, 0, 0, 0);\r\n        \r\n        const riding: Sprite = new Sprite(this.getAssets().getTexture('bunny_riding')!);\r\n        riding.anchor.set(.5, 1);\r\n        riding.scale.set(.1);\r\n\r\n        const flying: Sprite = new Sprite(this.getAssets().getTexture('bunny_flying')!);\r\n        flying.anchor.set(.5, 1);\r\n        flying.scale.set(.1);\r\n\r\n        fsm.createState(Bunny.IDLE)\r\n            .add(Motion)\r\n            .withInstance(motion)\r\n            .add(Display)\r\n            .withInstance(new Display(flying))\r\n            .add(Collision)\r\n            .withInstance(new Collision(flying.width))\r\n\r\n        fsm.createState(Bunny.RIDING)\r\n            .add(Motion)\r\n            .withInstance(motion)\r\n            .add(MotionControls)\r\n            .withInstance(new MotionControls(0, 0, Keyboard.UP, 0))\r\n            .add(Display)\r\n            .withInstance(new Display(riding))\r\n            .add(Collision)\r\n            .withInstance(new Collision(riding.width));\r\n\r\n        fsm.createState(Bunny.FLYING)\r\n            .add(Motion)\r\n            .withInstance(motion)\r\n            .add(Display)\r\n            .withInstance(new Display(flying))\r\n            .add(Collision)\r\n            .withInstance(new Collision(flying.width))\r\n\r\n        entity\r\n            .add(new Bunny(fsm))\r\n            .add(this.cameraPosition);\r\n\r\n        fsm.changeState(Bunny.IDLE);\r\n        this.engine.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    public createSlope(): Entity {\r\n        const slopeView: SlopeView = new SlopeView(this.getAssets().getTexture('floor')!);\r\n        const entity: Entity = new Entity()\r\n            .add(new Slope(slopeView))\r\n            .add(new Display(slopeView))\r\n            .add(new Position(GameConfig.screenWidth / 2, -10))\r\n            .add(new Animation(slopeView));\r\n        this.engine.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    public destroyEntity(entity: Entity): void {\r\n        this.engine.removeEntity(entity);\r\n    }\r\n\r\n    public showPopup(container: Container, x = 100, y = 100): Entity {\r\n        this.removePopup();\r\n        const entity: Entity = new Entity()\r\n            .add(new GUI(container))\r\n            .add(new Position(x, y, 0));\r\n        this.engine.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    public removePopup(): void {\r\n        const list: NodeList<GUINode> = this.engine.getNodeList(GUINode);\r\n        while (list && list.head) {\r\n            this.destroyEntity(list.head.entity);\r\n        }\r\n    }\r\n\r\n    public changeGameState(state: string): void {\r\n        const list: NodeList<GameNode> = this.engine.getNodeList(GameNode);\r\n        if (list && list.head) {\r\n            list.head.state.state = state;\r\n        }\r\n    }\r\n\r\n    public registerCameraContainer(container: Container): Entity {\r\n        const entity: Entity = new Entity(entitiesNames.CAMERA)\r\n            .add(new Display(container));\r\n        this.engine.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    public createGame(): Entity {\r\n        const gameEntity: Entity = new Entity(entitiesNames.GAME)\r\n            .add(new GameState())\r\n        this.engine.addEntity(gameEntity);\r\n        return gameEntity;\r\n    }\r\n\r\n    public cameraShake(magnitude = 16, time = 1): Entity | null {\r\n        const camera: Entity | null  = this.engine.getEntityByName(entitiesNames.CAMERA);\r\n        if (!camera) {\r\n            return null;\r\n        }\r\n\r\n        const entity: Entity = new Entity()\r\n            .add(new DeathThroes(1))\r\n            .add(new Animation(new CameraShake((camera.get(Display) as Display).displayObject, magnitude, time)));\r\n        this.engine.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    public cameraBlur(value: boolean): void {\r\n        const camera: Entity | null  = this.engine.getEntityByName(entitiesNames.CAMERA);\r\n        if (!camera) {\r\n            return;\r\n        }\r\n\r\n        if (value) {\r\n            (camera.get(Display) as Display).displayObject.filters = [new filters.BlurFilter()];\r\n        } else {\r\n            (camera.get(Display) as Display).displayObject.filters = [];\r\n        }\r\n    }\r\n}\r\n","/* eslint-disable no-bitwise */\r\nconst WORD_SIZE = 32;\r\n\r\nexport class KeyPoll {\r\n  private keys:Int32Array = new Int32Array(4);\r\n\r\n  public constructor() {\r\n    window.addEventListener('keyup', this.keyUpHandler);\r\n    window.addEventListener('keydown', this.keyDownHandler);\r\n  }\r\n\r\n  public isDown(key:number):boolean {\r\n    const i = Math.floor(key / WORD_SIZE);\r\n    return (this.keys[i] & (1 << key - i * WORD_SIZE)) !== 0;\r\n  }\r\n\r\n  public isUp(key:number):boolean {\r\n    return !this.isDown(key);\r\n  }\r\n\r\n  private keyDownHandler = (event:KeyboardEvent):void => {\r\n    const { keyCode } = event;\r\n    const index = Math.floor(keyCode / WORD_SIZE);\r\n    this.keys[index] |= (1 << keyCode - index * WORD_SIZE);\r\n  };\r\n\r\n  private keyUpHandler = (event:KeyboardEvent):void => {\r\n    const { keyCode } = event;\r\n    const index = Math.floor(keyCode / WORD_SIZE);\r\n    this.keys[index] &= ~(1 << keyCode - index * WORD_SIZE);\r\n  };\r\n}\r\n","import { ListIteratingSystem } from '@ash.ts/ash';\r\nimport { AnimationNode } from '../nodes';\r\n\r\nexport class AnimationSystem extends ListIteratingSystem<AnimationNode> {\r\n  public constructor() {\r\n    super(AnimationNode);\r\n  }\r\n\r\n  public updateNode(node:AnimationNode, time:number):void {\r\n    node.animation.animation.animate(time);\r\n  }\r\n}\r\n","import { Engine, NodeList, System } from '@ash.ts/ash';\r\nimport Bunny from '../components/Bunny';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport { BunnyCollisionNode, BarrierCollisionNode } from '../nodes';\r\n\r\nexport class CollisionSystem extends System {\r\n    private creator: EntityCreator;\r\n\r\n    private bunny: NodeList<BunnyCollisionNode> | null = null;\r\n    private barriers: NodeList<BarrierCollisionNode> | null = null;\r\n\r\n    public constructor(creator: EntityCreator) {\r\n        super();\r\n        this.creator = creator;\r\n    }\r\n\r\n    public addToEngine(engine: Engine): void {\r\n        this.bunny = engine.getNodeList(BunnyCollisionNode);\r\n        this.barriers = engine.getNodeList(BarrierCollisionNode);\r\n    }\r\n\r\n    public update(time: number): void {\r\n        if (!this.bunny || !this.bunny.head) {\r\n            return;\r\n        }\r\n\r\n        if (this.bunny.head.position.y > 0) {\r\n            // landing\r\n            this.bunny.head.position.y = 0;\r\n            this.bunny.head.bunny.fsm.changeState(Bunny.RIDING);\r\n        }\r\n\r\n        for (let barrier: BarrierCollisionNode | null | undefined = this.barriers?.head; barrier; barrier = barrier.next) {\r\n            const distance = Math.hypot(\r\n                barrier.position.x - this.bunny.head.position.x,\r\n                barrier.position.y - this.bunny.head.position.y,\r\n            );\r\n            if (distance <= barrier.collision.radius + this.bunny.head.collision.radius) {\r\n                this.creator.cameraShake();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public removeFromEngine(engine: Engine): void {\r\n        this.bunny = null;\r\n        this.barriers = null;\r\n    }\r\n}\r\n","import { ListIteratingSystem } from '@ash.ts/ash';\r\nimport { AudioNode } from '../nodes';\r\nimport { Sounds } from '../sounds';\r\n\r\nexport class AudioSystem extends ListIteratingSystem<AudioNode> {\r\n  private audioContext:AudioContext;\r\n\r\n  private audioDB:Map<Sounds, AudioBuffer>;\r\n\r\n  public constructor(audioContext:AudioContext, audioDB:Map<Sounds, AudioBuffer>) {\r\n    super(AudioNode);\r\n    this.audioContext = audioContext;\r\n    this.audioDB = audioDB;\r\n  }\r\n\r\n  public updateNode(node:AudioNode, time:number):void {\r\n    for (const name of node.audio.toPlay) {\r\n      const sound = this.audioDB.get(name) || null;\r\n      const source = this.audioContext.createBufferSource();\r\n      source.buffer = sound;\r\n      source.connect(this.audioContext.destination);\r\n      source.start(0);\r\n    }\r\n    node.audio.toPlay.length = 0;\r\n  }\r\n}\r\n","import { ListIteratingSystem } from '@ash.ts/ash';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport { DeathThroesNode } from '../nodes';\r\n\r\nexport class DeathThroesSystem extends ListIteratingSystem<DeathThroesNode> {\r\n  private creator:EntityCreator;\r\n\r\n  public constructor(creator:EntityCreator) {\r\n    super(DeathThroesNode);\r\n    this.creator = creator;\r\n  }\r\n\r\n  public updateNode(node:DeathThroesNode, time:number):void {\r\n    node.death.countdown -= time;\r\n    if (node.death.countdown <= 0) {\r\n      this.creator.destroyEntity(node.entity);\r\n    }\r\n  }\r\n}\r\n","import { Container, Sprite, Text, TextStyle } from 'pixi.js';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport { GameConfig } from '../GameConfig';\r\nimport ICommand from './ICommand';\r\n\r\nexport default class BasePopup extends Container implements ICommand {\r\n    protected resolve: Function | null = null;\r\n    protected reject: Function | null = null;\r\n\r\n    protected background: Sprite\r\n    protected title: Text;\r\n\r\n    public constructor(protected creator: EntityCreator) {\r\n        super();\r\n\r\n        const padding = Math.min(GameConfig.screenHeight, GameConfig.screenWidth) * 0.1;\r\n        const maxWidth = GameConfig.screenWidth - padding * 2;\r\n        const maxHeight = GameConfig.screenHeight - padding * 2;\r\n\r\n        this.background = this.setupBackground();\r\n        this.title = this.setupTitle();\r\n\r\n        this.setupContent();\r\n\r\n        const scale = Math.min(maxWidth / this.background.width, maxHeight / this.background.height);\r\n        this.background.scale.set(scale);\r\n    }\r\n\r\n    execute(): Promise<this> {\r\n        this.showPopup();\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.resolve = resolve;\r\n            this.reject = reject;\r\n        });\r\n    }\r\n\r\n    protected showPopup(): void {\r\n        this.creator.showPopup(this, (GameConfig.screenWidth - this.width) / 2, (GameConfig.screenHeight - this.height) / 2);\r\n    }\r\n\r\n    protected setupContent(): void {\r\n        console.log('expand it')\r\n    }\r\n\r\n    private setupBackground(): Sprite {\r\n\r\n        const sprite: Sprite = new Sprite(this.creator.getAssets().getTexture('info_plate_big')!);\r\n\r\n        const title: Sprite = new Sprite(this.creator.getAssets().getTexture('header_info_plate')!);\r\n        title.position.x = (sprite.width - title.width) / 2;\r\n        title.position.y = 5;\r\n        sprite.addChild(title);\r\n\r\n        this.addChild(sprite);\r\n\r\n        return sprite;\r\n    }\r\n\r\n    private setupTitle(): Text {\r\n        const textStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 60,\r\n            fill: 0x000099,\r\n        });\r\n\r\n        const text: Text = new Text('', textStyle);\r\n        text.anchor.set(0.5);\r\n        text.setTransform(this.background.width / 2, text.height / 2 + 5);\r\n\r\n        this.background.addChild(text);\r\n        return text;\r\n    }\r\n}\r\n","import { Sprite, Texture } from 'pixi.js';\r\nimport signals from 'signals';\r\n\r\nexport default class Button extends Sprite {\r\n    \r\n    private readonly textureButton: Texture;\r\n    private readonly textureButtonDown: Texture;\r\n    private readonly textureButtonOver: Texture;\r\n\r\n    private isDown = false;\r\n    private isOver = false;\r\n\r\n    public signalClick: signals.Signal = new signals.Signal();\r\n\r\n    public constructor(textureButton: Texture, textureButtonOver: Texture | null = null, textureButtonDown: Texture | null = null) {\r\n        super(textureButton);\r\n\r\n        this.textureButton = textureButton;\r\n        this.textureButtonDown = textureButtonDown ? textureButtonDown : textureButton;\r\n        this.textureButtonOver = textureButtonOver ? textureButtonOver : textureButton;\r\n        \r\n        this.interactive = true;\r\n        this.buttonMode = true;\r\n\r\n        this.anchor.set(0.5, 0.5);\r\n\r\n        this.on('pointerdown', this.onButtonDown)\r\n        .on('pointerup', this.onButtonUp)\r\n        .on('pointerupoutside', this.onButtonUp)\r\n        .on('pointerover', this.onButtonOver)\r\n        .on('pointerout', this.onButtonOut);\r\n    }\r\n\r\n    private onButtonDown = (e: Event) => {\r\n        this.isDown = true;\r\n        this.texture = this.textureButtonDown;\r\n    }\r\n\r\n    private onButtonUp = (e: Event) => {\r\n        if (this.isDown) {\r\n            this.signalClick.dispatch();\r\n        }\r\n        this.isDown = false;\r\n        if (this.isOver) {\r\n            this.texture = this.textureButtonOver;\r\n        }\r\n        else {\r\n            this.texture = this.textureButton;\r\n        }\r\n    }\r\n\r\n    private onButtonOver = (e: Event) => {\r\n        this.isOver = true;\r\n        if (this.isDown) {\r\n            return;\r\n        }\r\n        this.texture = this.textureButtonOver;\r\n    }\r\n\r\n    private onButtonOut = (e: Event) => {\r\n        this.isOver = false;\r\n        if (this.isDown) {\r\n            return;\r\n        }\r\n        this.texture = this.textureButton;\r\n    }\r\n}\r\n","import { Container, Sprite, Text, TextStyle, Texture } from 'pixi.js';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport BasePopup from './BasePopup';\r\nimport Button from './Button';\r\nimport ICommand from './ICommand';\r\n\r\nexport default class GameEnd extends BasePopup implements ICommand{\r\n\r\n    private score: Text | null = null;\r\n    private coins: Text | null = null;\r\n    private distance: Text | null = null;\r\n\r\n    public constructor(protected creator: EntityCreator) {\r\n        super(creator);\r\n\r\n        this.title.text = 'Твои очки:'\r\n    }\r\n\r\n    protected setupContent(): void {\r\n        const ok: Button = new Button(\r\n            this.creator.getAssets().getTexture('ok_button_active')!,\r\n            this.creator.getAssets().getTexture('ok_button_hover')!,\r\n            this.creator.getAssets().getTexture('ok_button_press')!\r\n        );\r\n        \r\n        ok.anchor.set(.5);\r\n        ok.position.x = this.background.width / 2;\r\n        ok.position.y = (this.background.height - ok.height * .9);\r\n        ok.signalClick.add(() => { this.handleOk(); });\r\n        this.background.addChild(ok);\r\n\r\n        let textStyle: TextStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 60,\r\n            fill: 0xffffff,\r\n        });\r\n        this.score = new Text('очки', textStyle);\r\n        this.score.anchor.set(.5);\r\n        this.score.position.x = this.background.width * .5;\r\n        this.score.position.y = this.background.height * .2;\r\n        this.background.addChild(this.score);\r\n\r\n        textStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 60,\r\n            fill: 0xf4ad25,\r\n        });\r\n        this.coins = new Text('монеты', textStyle);\r\n        this.coins.anchor.set(.5);\r\n        this.coins.position.x = this.background.width * .5;\r\n        this.coins.position.y = this.background.height * .4;\r\n        this.background.addChild(this.coins);\r\n\r\n        textStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 60,\r\n            fill: 0x9ac6ff,\r\n        });\r\n        this.distance = new Text('дистанция', textStyle);\r\n        this.distance.anchor.set(.5);\r\n        this.distance.position.x = this.background.width * .5;\r\n        this.distance.position.y = this.background.height * .6;\r\n        this.background.addChild(this.distance);\r\n\r\n        const coin: Sprite = new Sprite(this.creator.getAssets().getTexture('collect_coin_icon')!);\r\n        coin.anchor.set(0, .5);\r\n        coin.position.x = this.background.width * .1;\r\n        coin.position.y = this.coins.y;\r\n        this.background.addChild(coin);\r\n\r\n        const distance: Sprite = new Sprite(this.creator.getAssets().getTexture('collect_distance_icon')!);\r\n        distance.anchor.set(0, .5);\r\n        distance.position.x = coin.x;\r\n        distance.position.y = this.distance.y;\r\n        this.background.addChild(distance);\r\n    }\r\n\r\n    private handleOk(): void {\r\n        if (this.resolve) {\r\n            this.resolve(this);\r\n        }    \r\n    }\r\n\r\n    private handleClick = (event): void => {\r\n        if (this.resolve) {\r\n            this.resolve();\r\n        }\r\n    }\r\n}\r\n","import { Text, TextStyle } from 'pixi.js';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport BasePopup from './BasePopup';\r\nimport Button from './Button';\r\nimport ICommand from './ICommand';\r\n\r\nexport default class GameProcess extends BasePopup implements ICommand{\r\n    public constructor(protected creator: EntityCreator) {\r\n        super(creator);\r\n\r\n        this.background.alpha = 0;\r\n    }\r\n\r\n    protected setupContent(): void {\r\n        const leftArrow: Button = new Button(\r\n            this.creator.getAssets().getTexture('arrow_btn_active')!,\r\n            this.creator.getAssets().getTexture('arrow_btn_hover')!,\r\n            this.creator.getAssets().getTexture('arrow_btn_press')!\r\n        );\r\n        leftArrow.anchor.set(.5);\r\n        leftArrow.scale.set(-1, 1);\r\n        leftArrow.position.x = 0\r\n        leftArrow.position.y = 0\r\n        leftArrow.signalClick.add(() => { this.handleLeftArrowClick(); });\r\n        this.addChild(leftArrow);\r\n\r\n        const textStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 40,\r\n            fill: 0xffffff,\r\n        });\r\n        const label: Text = new Text('Выйти из игры', textStyle);\r\n        label.anchor.set(0, .5);\r\n        label.position.x = leftArrow.width * 1.3;\r\n        label.position.y = 0;\r\n        this.addChild(label);\r\n    }\r\n\r\n    protected showPopup(): void {\r\n        this.creator.showPopup(this, 100, 50);\r\n    }\r\n\r\n    protected handleLeftArrowClick(): void {\r\n        if (this.resolve) {\r\n            this.resolve(this);\r\n        }\r\n    }\r\n}\r\n","import { Sprite, Text, TextStyle } from 'pixi.js';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport BasePopup from './BasePopup';\r\nimport Button from './Button';\r\nimport ICommand from './ICommand';\r\n\r\nexport default class Intro extends BasePopup implements ICommand{\r\n    \r\n    private record: Text | null = null;\r\n    private userName: Text | null = null;\r\n    \r\n    public constructor(protected creator: EntityCreator) {\r\n        super(creator);\r\n\r\n        this.title.text = 'Твои рекорды:'\r\n    }\r\n\r\n    protected setupContent(): void {\r\n        const leadboard: Button = new Button(\r\n            this.creator.getAssets().getTexture('leadboard_button_active')!,\r\n            this.creator.getAssets().getTexture('leadboard_button_hover')!,\r\n            this.creator.getAssets().getTexture('leadboard_button_press')!\r\n        );\r\n\r\n        leadboard.position.x = (this.background.width - leadboard.width) / 2 * .95;\r\n        leadboard.position.y = (this.background.height - leadboard.height * .9);\r\n        leadboard.signalClick.add(() => { this.handleLeaders() });\r\n        this.background.addChild(leadboard);\r\n        \r\n        const play: Button = new Button(\r\n            this.creator.getAssets().getTexture('play_button_active')!,\r\n            this.creator.getAssets().getTexture('play_button_hover')!,\r\n            this.creator.getAssets().getTexture('play_button_press')!\r\n        );\r\n\r\n        play.position.x = this.background.width - leadboard.position.x;\r\n        play.position.y = leadboard.y;\r\n        play.signalClick.add(() => { this.handlePlay(); });\r\n        this.background.addChild(play);\r\n\r\n        const userName: Sprite = new Sprite(this.creator.getAssets().getTexture('user_name_bar')!);\r\n        userName.position.x = (this.background.width - userName.width) / 2;\r\n        userName.position.y = this.background.height / 2 + userName.height / 2;\r\n        this.background.addChild(userName);\r\n\r\n        const textStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 60,\r\n            fill: 0xffffff,\r\n        });\r\n        this.record = new Text('Рекорд: 3981', textStyle);\r\n        this.record.anchor.set(.5);\r\n        this.record.position.x = this.background.width * .5;\r\n        this.record.position.y = this.background.height * .3;\r\n        this.background.addChild(this.record);\r\n\r\n        this.userName = new Text('Guest_NEMO', textStyle);\r\n        this.userName.anchor.set(0, 0);\r\n        this.userName.position.x = userName.position.x * 1.3;\r\n        this.userName.position.y = userName.position.y + (userName.height - this.userName.height) / 2;\r\n        this.background.addChild(this.userName);\r\n    }\r\n\r\n    private handlePlay(): void {\r\n        if (this.resolve) {\r\n            this.resolve(this);\r\n        }    \r\n    }\r\n\r\n    private handleLeaders(): void {\r\n        if (this.reject) {\r\n            this.reject(this);\r\n        }    \r\n    }\r\n}","export default class User {\r\n    constructor(\r\n        public name: string, \r\n        public score: number\r\n    ) {}\r\n}","import User from \"./User\";\r\n\r\nexport default class Client {\r\n    static getLeaders(): Promise<Array<User>> {\r\n        function getRandomInt(min, max) {\r\n            min = Math.ceil(min);\r\n            max = Math.floor(max);\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        }\r\n\r\n        function makeid(length) {\r\n            let result = '';\r\n            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n            const charactersLength = characters.length;\r\n            for (let i = 0; i < length; i++) {\r\n                result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n            }\r\n            return result;\r\n        }\r\n\r\n        const arr: Array<User> = [];\r\n        const numb = Math.floor(Date.now() / 100000);\r\n        const length = getRandomInt(0, 10);\r\n        for (let i = 0; i < length; i++) {\r\n            arr.push(new User(makeid(getRandomInt(6, 15)), Math.floor(numb / (10 * (i + 1)))));\r\n        }\r\n\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve(arr);\r\n            }, 500);\r\n        });\r\n    }\r\n\r\n\r\n\r\n}","import { Container, Sprite, Texture, Text, TextStyle } from 'pixi.js';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport User from '../model/User';\r\n\r\nexport default class LeadersTableRow extends Container {\r\n    \r\n    public constructor(\r\n        protected index: number, \r\n        protected user: User | null, \r\n        protected creator: EntityCreator\r\n    ) {\r\n        super();\r\n        \r\n        const backgroundName: Sprite = new Sprite(this.getBackgroundTexture());\r\n        this.addChild(backgroundName);\r\n\r\n        if (this.index > 2) {\r\n            const textStyleIndex: TextStyle = new TextStyle({\r\n                fontFamily: 'Arial',\r\n                fontSize: 30,\r\n                fill: 0xffffff,\r\n            });\r\n            const textIndex: Text = new Text(`${this.index + 1}`, textStyleIndex);\r\n            textIndex.position.x = backgroundName.height * .5;\r\n            this.addChild(textIndex);\r\n\r\n            backgroundName.position.x += backgroundName.height * 1.5;\r\n        }\r\n\r\n        const backgroundScore: Sprite = new Sprite(this.creator.getAssets().getTexture(this.index > 2 ? `midleader_scores_plate` : 'highleader_scores_plate')!);\r\n        backgroundScore.position.x = backgroundName.position.x + backgroundName.width + (this.index > 2 ? backgroundScore.height * .9 : backgroundScore.height * .2);\r\n        backgroundScore.position.y = (backgroundName.height - backgroundScore.height) / 2;\r\n        this.addChild(backgroundScore);\r\n\r\n        const textStyleName: TextStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: this.index > 2 ? 30 : 40,\r\n            fill: this.getTextColor()\r\n        });\r\n        const textName: Text = new Text(this.user ? this.user.name : '-', textStyleName);\r\n        textName.position.x = 80;\r\n        textName.position.y = (backgroundName.height - textName.height) / 2;\r\n        this.addChild(textName);\r\n\r\n        const textScore: Text = new Text(`${this.user ? this.user.score : '-'}`, textStyleName);\r\n        textScore.anchor.set(0.5, .5);\r\n        textScore.position.x = backgroundScore.x + backgroundScore.width / 2;\r\n        textScore.position.y = (backgroundName.height) / 2;\r\n        this.addChild(textScore);\r\n    }\r\n\r\n    private getTextColor(): number {\r\n        switch (this.index) {\r\n            case 0:\r\n                return 0xc16001;\r\n            case 1:\r\n                return 0x205caf;\r\n            case 2:\r\n                return 0x8a1a00;\r\n            default:\r\n                return 0x333333;\r\n        }\r\n    }\r\n\r\n    private getBackgroundTexture(): Texture {\r\n        if (this.index < 3) {\r\n            return this.creator.getAssets().getTexture(`place_${this.index + 1}`)!;\r\n        } else {\r\n            return this.creator.getAssets().getTexture(`midleader_name_plate`)!;\r\n        }\r\n    }\r\n}\r\n","import { Container, TextStyle, Text, Sprite } from 'pixi.js';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport { GameConfig } from '../GameConfig';\r\nimport Client from '../model/Client';\r\nimport User from '../model/User';\r\nimport Button from './Button';\r\nimport ICommand from './ICommand';\r\nimport LeadersTableRow from './LeadersTableRow';\r\n\r\nexport default class Leaders extends Container implements ICommand {\r\n\r\n    static TABLE_ROWS_COUNT = 10;\r\n    protected tables: Array<string> = ['Всё время', 'Mесяц', 'Неделя'];\r\n    protected currentTable = 0;\r\n    protected currentTableText: Text | null = null;\r\n    protected leftArrow: Button | null = null;\r\n    protected rightArrow: Button | null = null;\r\n\r\n    protected table: Container | null = null;\r\n\r\n    protected resolve: Function | null = null;\r\n    protected reject: Function | null = null;\r\n\r\n    protected background: Sprite;\r\n    protected title: Text;\r\n    \r\n    public constructor(protected creator: EntityCreator) {\r\n        super();\r\n\r\n        const padding = Math.min(GameConfig.screenHeight, GameConfig.screenWidth) * 0.1;\r\n        const maxWidth = GameConfig.screenWidth - padding * 2;\r\n        const maxHeight = GameConfig.screenHeight - padding * 2;\r\n\r\n        this.background = this.setupBackground();\r\n        this.title = this.setupTitle();\r\n\r\n        this.setupContent();\r\n\r\n        const scale = Math.min(maxWidth / this.background.width, maxHeight / this.background.height);\r\n        this.background.scale.set(scale);\r\n\r\n        this.title.text = 'Таблица рекордов:';\r\n\r\n        this.table = new Container();\r\n        this.background.addChild(this.table);\r\n\r\n        setTimeout(() => {\r\n            this.updateTable();    \r\n        }, 100);\r\n        \r\n    }\r\n\r\n    protected setupContent(): void {\r\n        const ok: Button = new Button(\r\n            this.creator.getAssets().getTexture('ok_button_active')!,\r\n            this.creator.getAssets().getTexture('ok_button_hover')!,\r\n            this.creator.getAssets().getTexture('ok_button_press')!\r\n        );\r\n        \r\n        ok.anchor.set(.5);\r\n        ok.position.x = this.background.width / 2;\r\n        ok.position.y = (this.background.height - ok.height * .9);\r\n        ok.signalClick.add(() => { this.handleOk(); });\r\n        this.background.addChild(ok);\r\n\r\n        const textStyle: TextStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 60,\r\n            fill: 0xff6801,\r\n        });\r\n        this.currentTableText = new Text('Всё время', textStyle);\r\n        this.currentTableText.anchor.set(.5);\r\n        this.currentTableText.position.x = this.background.width * .5;\r\n        this.currentTableText.position.y = this.background.height * .15;\r\n        this.background.addChild(this.currentTableText);\r\n\r\n        this.leftArrow = new Button(\r\n            this.creator.getAssets().getTexture('arrow_btn_active')!,\r\n            this.creator.getAssets().getTexture('arrow_btn_hover')!,\r\n            this.creator.getAssets().getTexture('arrow_btn_press')!\r\n        );\r\n        this.leftArrow.anchor.set(.5);\r\n        this.leftArrow.scale.set(-1, 1);\r\n        this.leftArrow.position.x = this.background.width * .15;\r\n        this.leftArrow.position.y = this.currentTableText.y;\r\n        this.leftArrow.signalClick.add(() => { this.handleLeftArrowClick(); });\r\n        this.background.addChild(this.leftArrow);\r\n\r\n        this.rightArrow = new Button(\r\n            this.creator.getAssets().getTexture('arrow_btn_active')!,\r\n            this.creator.getAssets().getTexture('arrow_btn_hover')!,\r\n            this.creator.getAssets().getTexture('arrow_btn_press')!\r\n        );\r\n        this.rightArrow.anchor.set(.5);\r\n        this.rightArrow.position.x = this.background.width - this.leftArrow.x;\r\n        this.rightArrow.position.y = this.currentTableText.y;\r\n        this.rightArrow.signalClick.add(() => { this.handleRightArrowClick(); });\r\n        this.background.addChild(this.rightArrow);\r\n    }\r\n\r\n    protected updateTable (): void {\r\n        this.table!.removeChildren();\r\n\r\n        if (this.currentTableText) {\r\n            this.currentTableText.text = this.tables[this.currentTable];\r\n        }\r\n\r\n        const textStyle: TextStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 40,\r\n            fill: 0x333333,\r\n        });\r\n        const loading: Text = new Text('Загрузка...', textStyle);\r\n        loading.anchor.set(.5);\r\n        loading.position.x = this.background.width * .5;\r\n        loading.position.y = this.background.height * .5;\r\n        this.background.addChild(loading);\r\n\r\n        Client.getLeaders()\r\n            .then((arr: Array<User>) => {\r\n                if (loading) {\r\n                    loading.parent.removeChild(loading);\r\n                }\r\n                // let lastY = this.background.height * .27;\r\n                let lastY = this.currentTableText!.y + this.currentTableText!.height / 2;\r\n                for (let i = 0; i < Leaders.TABLE_ROWS_COUNT; i++) {\r\n                    const user: User | null = arr.length > i ? arr[i] : null;\r\n                    const row: LeadersTableRow = new LeadersTableRow(i, user, this.creator);\r\n                    row.position.y = lastY + (i > 2 ? row.height * .1 : 0);\r\n                    row.position.x = this.leftArrow!.position.x - this.leftArrow!.width * 1.5;\r\n                    lastY = row.position.y + row.height;\r\n                    this.table?.addChild(row);\r\n                }\r\n            });\r\n    }\r\n\r\n    protected handleLeftArrowClick(): void {\r\n        this.currentTable++;\r\n        this.currentTable = this.currentTable >= this.tables.length ? 0 : this.currentTable;\r\n        this.updateTable();\r\n    }\r\n\r\n    protected handleRightArrowClick(): void {\r\n        this.currentTable--;\r\n        this.currentTable = this.currentTable < 0 ? this.tables.length - 1 : this.currentTable;\r\n        this.updateTable();\r\n    }\r\n\r\n    protected handleOk(): void {\r\n        if (this.resolve) {\r\n            this.resolve(this);\r\n        }    \r\n    }\r\n\r\n    execute(): Promise<this> {\r\n        this.showPopup();\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.resolve = resolve;\r\n            this.reject = reject;\r\n        });\r\n    }\r\n\r\n    protected showPopup(): void {\r\n        this.creator.showPopup(this, (GameConfig.screenWidth - this.width) / 2, (GameConfig.screenHeight - this.height) / 2);\r\n    }\r\n\r\n    private setupBackground(): Sprite {\r\n\r\n        const sprite: Sprite = new Sprite(this.creator.getAssets().getTexture('info_plate_big')!);\r\n\r\n        const title: Sprite = new Sprite(this.creator.getAssets().getTexture('header_info_plate')!);\r\n        title.position.x = (sprite.width - title.width) / 2;\r\n        title.position.y = 5;\r\n        sprite.addChild(title);\r\n\r\n        this.addChild(sprite);\r\n\r\n        return sprite;\r\n    }\r\n\r\n    private setupTitle(): Text {\r\n        const textStyle = new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 60,\r\n            fill: 0x000099,\r\n        });\r\n\r\n        const text: Text = new Text('', textStyle);\r\n        text.anchor.set(0.5);\r\n        text.setTransform(this.background.width / 2, text.height / 2 + 5);\r\n\r\n        this.background.addChild(text);\r\n        return text;\r\n    }\r\n}\r\n","import { Engine, NodeList, System } from '@ash.ts/ash';\r\nimport { GameState } from '../components';\r\nimport Bunny from '../components/Bunny';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport { GameConfig } from '../GameConfig';\r\nimport GameEnd from '../gui/GameEnd';\r\nimport GameProcess from '../gui/GameProcess';\r\nimport Intro from '../gui/Intro';\r\nimport Leaders from '../gui/Leaders';\r\nimport { BunnyNode, GameNode } from '../nodes';\r\n\r\nexport class GameManager extends System {\r\n    private config: GameConfig;\r\n    private creator: EntityCreator;\r\n\r\n    private games: NodeList<GameNode> | null = null;\r\n    private bunny: NodeList<BunnyNode> | null = null;\r\n    \r\n    private currentGameState = '';\r\n\r\n    public constructor(creator: EntityCreator, config: GameConfig) {\r\n        super();\r\n        this.creator = creator;\r\n        this.config = config;\r\n    }\r\n\r\n    public addToEngine(engine: Engine): void {\r\n        this.games = engine.getNodeList(GameNode);\r\n        this.bunny = engine.getNodeList(BunnyNode);\r\n    \r\n        this.createGameView();\r\n    }\r\n\r\n    public removeFromEngine(engine: Engine): void {\r\n        this.games = null;\r\n    }\r\n\r\n    public update(time: number): void {\r\n        const gameNode = this.games!.head;\r\n        if (!gameNode || !gameNode.state.state || gameNode.state.state == this.currentGameState) {\r\n            return;\r\n        }\r\n\r\n        switch (gameNode.state.state) {\r\n            case GameState.INTRO:\r\n                if (this.bunny && this.bunny.head) {\r\n                    this.bunny.head.bunny.fsm.changeState(Bunny.IDLE)\r\n                }\r\n                this.creator.cameraBlur(true);\r\n                new Intro(this.creator).execute()\r\n                    .then(() => {\r\n                        this.creator.changeGameState(GameState.PLAY);\r\n                    })\r\n                    .catch(() => {\r\n                        this.creator.changeGameState(GameState.LEADERS);\r\n                    })\r\n            break;\r\n            case GameState.PLAY:\r\n                setTimeout(() => {\r\n                    if (this.bunny && this.bunny.head && gameNode.state.state == GameState.PLAY) {\r\n                        this.bunny.head.bunny.fsm.changeState(Bunny.RIDING)\r\n                    }    \r\n                }, 500);\r\n                \r\n                this.creator.cameraBlur(false);\r\n                new GameProcess(this.creator).execute()\r\n                    .then(() => {\r\n                        this.creator.changeGameState(GameState.GAME_END);\r\n                    });\r\n            break;\r\n            case GameState.PAUSE:\r\n                // this.creator.showPause();\r\n            break;\r\n            case GameState.GAME_END:\r\n                if (this.bunny && this.bunny.head) {\r\n                    this.bunny.head.bunny.fsm.changeState(Bunny.IDLE)\r\n                }\r\n                this.creator.cameraBlur(true);\r\n                new GameEnd(this.creator).execute()\r\n                    .then(() => {\r\n                        this.creator.changeGameState(GameState.LEADERS);\r\n                    });\r\n            break;\r\n            case GameState.LEADERS:\r\n                if (this.bunny && this.bunny.head) {\r\n                    this.bunny.head.bunny.fsm.changeState(Bunny.IDLE)\r\n                }\r\n                this.creator.cameraBlur(true);\r\n                new Leaders(this.creator).execute()\r\n                    .then(() => {\r\n                        this.creator.changeGameState(GameState.INTRO);\r\n                    });\r\n            break;\r\n        }\r\n\r\n        this.currentGameState = gameNode.state.state;\r\n    }\r\n\r\n    private createGameView(): void {\r\n        setTimeout(() => {\r\n            this.creator.createBunny();\r\n        }, 100);\r\n    }\r\n}","export enum SystemPriorities {\r\n  preUpdate = 1,\r\n  update = 2,\r\n  move = 3,\r\n  resolveCollisions = 4,\r\n  animate = 5,\r\n  render = 6,\r\n  audio = 7,\r\n}\r\n","import { Engine, NodeList, System } from '@ash.ts/ash';\r\nimport { GameState } from '../components';\r\nimport { GameNode } from '../nodes';\r\n\r\nexport class HudSystem extends System {\r\n    \r\n    private game: NodeList<GameNode> | null = null;\r\n    private gameState: GameState = new GameState();\r\n    \r\n    addToEngine(engine: Engine): void {\r\n        this.game = engine.getNodeList(GameNode);\r\n    }\r\n    removeFromEngine(engine: Engine): void {\r\n        this.game = null;\r\n    }\r\n    update(time: number): void {\r\n        const state: GameState | null | undefined = this.game?.head?.state;\r\n        if (!state) {\r\n            return;\r\n        }\r\n\r\n        // if (storeGameModule.getters.state != this.gameState.state) {\r\n        //     if (\r\n        //         (this.gameState.state == GameState.WAIT_FOR_START || this.gameState.state == GameState.FINISH)\r\n        //         && storeGameModule.getters.state == GameState.PLAY\r\n        //     ) {\r\n        //         this.gameState.setForStart();\r\n        //         state.setForStart();\r\n        //     } else if (storeGameModule.getters.state == GameState.FINISH) {\r\n        //         this.gameState.setForFinish();\r\n        //         state.setForFinish();\r\n        //     } else {\r\n        //         this.gameState.state = storeGameModule.getters.state;\r\n        //         state.state = this.gameState.state;\r\n        //     }\r\n        // } else {\r\n        //     if (state.state != this.gameState.state) {\r\n        //         this.gameState.state = state.state;\r\n        //         storeGameModule.mutations.setState(state.state);\r\n        //     }\r\n    \r\n        //     storeGameModule.mutations.setLives(state.lives);\r\n        //     storeGameModule.mutations.setLevel(state.level);\r\n        //     storeGameModule.mutations.setShots(state.shots);\r\n        //     storeGameModule.mutations.setHits(state.hits);\r\n        // }\r\n\r\n        this.gameState.update(state);\r\n    }\r\n}\r\n","import { ListIteratingSystem } from '@ash.ts/ash';\r\nimport Bunny from '../components/Bunny';\r\nimport { KeyPoll } from '../KeyPoll';\r\nimport { BunnyControlNode } from '../nodes';\r\nimport { TouchPoll } from '../TouchPoll';\r\n\r\nexport class MotionControlSystem extends ListIteratingSystem<BunnyControlNode> {\r\n    private keyPoll: KeyPoll;\r\n    private touchPoll: TouchPoll;\r\n\r\n    public constructor(keyPoll: KeyPoll, touchPoll: TouchPoll) {\r\n        super(BunnyControlNode);\r\n        this.keyPoll = keyPoll;\r\n        this.touchPoll = touchPoll;\r\n    }\r\n\r\n    public updateNode(node: BunnyControlNode, time: number): void {\r\n        const { control } = node;\r\n        const { motion } = node;\r\n\r\n        if (this.keyPoll.isDown(control.top) || this.touchPoll.click) {\r\n            motion.velocityY = -1300;\r\n            node.bunny.fsm.changeState(Bunny.FLYING);\r\n        }\r\n    }\r\n}\r\n","import { ListIteratingSystem } from '@ash.ts/ash';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport { GameConfig } from '../GameConfig';\r\nimport { MovementNode } from '../nodes';\r\n\r\nexport class MovementSystem extends ListIteratingSystem<MovementNode> {\r\n    private readonly config: GameConfig;\r\n    private readonly creator: EntityCreator;\r\n    private readonly gravity = 50;\r\n\r\n    public constructor(creator: EntityCreator, config: GameConfig) {\r\n        super(MovementNode);\r\n        this.creator = creator;\r\n        this.config = config;\r\n    }\r\n\r\n    public updateNode(node: MovementNode, time: number): void {\r\n        const { position, motion } = node;\r\n        \r\n        position.x += motion.velocityX * time;\r\n        position.y += motion.velocityY * time;\r\n\r\n        if (position.y < 0) {\r\n            motion.velocityY += this.gravity;\r\n        } else {\r\n            motion.velocityY = 0;\r\n        }\r\n    }\r\n}\r\n","import { Engine, NodeList, System } from '@ash.ts/ash';\r\nimport { AbstractRenderer, Application, Container, Renderer } from 'pixi.js';\r\nimport { EntityCreator } from '../EntityCreator';\r\nimport { GameConfig } from '../GameConfig';\r\nimport { BunnyNode, GUINode, RenderNode } from '../nodes';\r\n\r\n\r\ninterface RenderSystemOptions {\r\n    emitStageEvents: boolean;\r\n}\r\n\r\n// TODO must do any Renders for different scopes. Set a PIXI.Container as Param for constructor\r\nexport class RenderSystem extends System {\r\n    private resized = false;\r\n\r\n    private nodes: NodeList<RenderNode> | null = null;\r\n    private guis: NodeList<GUINode> | null = null;\r\n\r\n    private readonly container: HTMLElement;\r\n    private readonly entityCreator: EntityCreator;\r\n    private readonly gameConfig: GameConfig;\r\n    private readonly renderer: Renderer | AbstractRenderer;\r\n    private readonly stage: Container;\r\n    private readonly view: HTMLCanvasElement;\r\n\r\n    private readonly gameContainer: Container;\r\n    private readonly guiContainer: Container;\r\n\r\n    private options: RenderSystemOptions;\r\n\r\n    private deltaX = 0;\r\n    private deltaY = 0;\r\n    private deltaAngle = .1;\r\n\r\n    private bunny: NodeList<BunnyNode> | null = null;\r\n    \r\n    public constructor(container: HTMLElement, options: RenderSystemOptions = { emitStageEvents: true }, entityCreator: EntityCreator, gameConfig: GameConfig) {\r\n        super();\r\n\r\n        this.container = container;\r\n        this.options = options;\r\n        this.entityCreator = entityCreator;\r\n        this.gameConfig = gameConfig;\r\n\r\n        const app = new Application({\r\n            width: this.gameConfig.screenWidth,\r\n            height: this.gameConfig.screenHeight,\r\n            backgroundColor: 0xffffff,\r\n        });\r\n\r\n        this.renderer = app.renderer;\r\n        this.renderer.backgroundColor = 0x6e9aca;\r\n        this.stage = app.stage;\r\n        this.view = app.view;\r\n\r\n        this.gameContainer = new Container();\r\n        this.gameContainer.setTransform(0, 0, 1, 1, this.deltaAngle);\r\n        this.stage.addChild(this.gameContainer);\r\n\r\n        this.guiContainer = new Container();\r\n        this.stage.addChild(this.guiContainer);\r\n\r\n        this.entityCreator.registerCameraContainer(this.gameContainer);\r\n\r\n        this.resize();\r\n    }\r\n\r\n    public addToEngine(engine: Engine): void {\r\n        window.addEventListener('resize', this.handleWindowResize);\r\n\r\n        this.container.appendChild(this.view);\r\n        this.nodes = engine.getNodeList(RenderNode);\r\n        for (let node: RenderNode | null = this.nodes.head; node; node = node.next) {\r\n            this.addToDisplay(node);\r\n        }\r\n        this.nodes.nodeAdded.add(this.addToDisplay);\r\n        this.nodes.nodeRemoved.add(this.removeFromDisplay);\r\n\r\n        this.guis = engine.getNodeList(GUINode);\r\n        for (let gui: GUINode | null = this.guis.head; gui; gui = gui.next) {\r\n            this.addGUI(gui);\r\n        }\r\n        this.guis.nodeAdded.add(this.addGUI);\r\n        this.guis.nodeRemoved.add(this.removeFromDisplay);\r\n\r\n        this.bunny = engine.getNodeList(BunnyNode);\r\n    }\r\n\r\n    private addGUI = (node: GUINode): void => {\r\n        const { displayObject } = node.display;\r\n        this.guiContainer.addChild(displayObject);\r\n        this.updateGUI(node);\r\n    }\r\n\r\n    private addToDisplay = (node: RenderNode): void => {\r\n        const { displayObject } = node.display;\r\n        this.gameContainer.addChild(displayObject);\r\n        this.updateNode(node);\r\n        if (this.options.emitStageEvents) {\r\n            displayObject.emit('addedToStage');\r\n        }\r\n    }\r\n\r\n    private handleWindowResize = (e: Event) => {\r\n        this.resized = true;\r\n    }\r\n\r\n    private removeFromDisplay = (node: RenderNode): void => {\r\n        const { displayObject } = node.display;\r\n        if (displayObject.parent) {\r\n            displayObject.parent.removeChild(displayObject);\r\n        }\r\n    }\r\n\r\n    public update(time: number): void {\r\n        if (this.resized) {\r\n            this.resized = false;\r\n            this.resize();\r\n        }\r\n\r\n        if (this.bunny && this.bunny.head) {\r\n            this.deltaX = Math.round(-1 * this.bunny.head.position.x + this.gameConfig.screenWidth * .3);\r\n            this.deltaY = Math.round(-1 * this.bunny.head.position.y + this.gameConfig.screenHeight * .6);\r\n        } else {\r\n            this.deltaX = Math.round(this.gameConfig.screenWidth * .2);\r\n            this.deltaY = Math.round(this.gameConfig.screenHeight * .6);\r\n        }\r\n\r\n        for (let node = this.nodes!.head; node; node = node.next) {\r\n            this.updateNode(node);\r\n        }\r\n        this.renderer.render(this.stage);\r\n    }\r\n\r\n    private updateNode(node: RenderNode): void {\r\n        const { display, position } = node;\r\n        display.displayObject.setTransform(position.x + this.deltaX, position.y + this.deltaY, 1, 1, position.rotation);\r\n    }\r\n\r\n    private updateGUI(node: GUINode): void {\r\n        const { display, position } = node;\r\n        display.displayObject.setTransform(position.x, position.y, 1, 1, position.rotation);\r\n    }\r\n\r\n    private resize(): void {\r\n        const rect: DOMRect = this.container.getBoundingClientRect();\r\n        \r\n        this.gameConfig.screenWidth = rect.width;\r\n        this.gameConfig.screenHeight = rect.height;\r\n\r\n        this.renderer.view.style.width = rect.width + 'px';\r\n        this.renderer.view.style.height = rect.height + 'px';\r\n        this.renderer.resize(rect.width, rect.height);\r\n    }\r\n\r\n    public removeFromEngine(engine: Engine): void {\r\n        if (this.nodes) {\r\n            this.nodes.nodeAdded.remove(this.addToDisplay);\r\n            this.nodes.nodeRemoved.remove(this.removeFromDisplay);\r\n            this.nodes = null;\r\n        }\r\n\r\n        this.container.removeChild(this.view);\r\n    }\r\n}\r\n","import asteroidSoundMp3 from './asteroid.mp3';\r\nimport asteroidSoundOgg from './asteroid.ogg';\r\nimport shootSoundMp3 from './shoot.mp3';\r\nimport shootSoundOgg from './shoot.ogg';\r\nimport shipSoundMp3 from './ship.mp3';\r\nimport shipSoundOgg from './ship.ogg';\r\n\r\nexport enum Sounds {\r\n  asteroid,\r\n  ship,\r\n  shoot,\r\n}\r\n\r\nconst sounds = [\r\n  {\r\n    key: Sounds.asteroid,\r\n    mp3: asteroidSoundMp3,\r\n    ogg: asteroidSoundOgg,\r\n  }, {\r\n    key: Sounds.shoot,\r\n    mp3: shootSoundMp3,\r\n    ogg: shootSoundOgg,\r\n  }, {\r\n    key: Sounds.ship,\r\n    mp3: shipSoundMp3,\r\n    ogg: shipSoundOgg,\r\n  },\r\n];\r\n\r\nfunction audioTypeDetect():'mp3' | 'ogg' | null {\r\n  const audio = document.createElement('audio');\r\n  const canPlayMp3 = audio.canPlayType('audio/mpeg');\r\n  const canPlayOgg = audio.canPlayType('audio/ogg');\r\n\r\n  let type:'mp3' | 'ogg' | null = null;\r\n\r\n  if (canPlayMp3 === 'probably') {\r\n    type = 'mp3';\r\n  } else if (canPlayOgg === 'probably') {\r\n    type = 'ogg';\r\n  } else if (canPlayMp3 === 'maybe') {\r\n    type = 'mp3';\r\n  } else if (canPlayOgg === 'maybe') {\r\n    type = 'ogg';\r\n  }\r\n\r\n  return type;\r\n}\r\n\r\nexport async function loadAudioDB(audioContext:AudioContext):Promise<Map<Sounds, AudioBuffer>> {\r\n  const audioDB = new Map<Sounds, AudioBuffer>();\r\n  const type = audioTypeDetect();\r\n\r\n  const loadSound = async (url:string, key:Sounds):Promise<any> => {\r\n    const response = await fetch(url);\r\n    const arrayBuffer = await response.arrayBuffer();\r\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\r\n    audioDB.set(key, audioBuffer);\r\n  };\r\n\r\n  if (type) {\r\n    await Promise.all(sounds.map((sound) => loadSound(sound[type!], sound.key)));\r\n  }\r\n\r\n  return audioDB;\r\n}\r\n","export class TouchPoll {\r\n\r\n    private mouseDown = false;\r\n    private mouseDownX = 0;\r\n    private mouseDownY = 0;\r\n    private mouseDownTimestamp = 0;\r\n    private mouseDownRadius = 20;\r\n\r\n    private mouseMoveX = 0;\r\n    private mouseMoveY = 0;\r\n    \r\n    private clickTimeout = 500;\r\n\r\n    private distance = 0;\r\n\r\n    private mouseLeft = false;\r\n    private mouseRight = false;\r\n    private mouseTop = false;\r\n    private mouseBottom = false;\r\n\r\n    public constructor() {\r\n        window.addEventListener('mousedown', this.handleMouseDown);\r\n        window.addEventListener('mouseup', this.handleMouseUp);\r\n        window.addEventListener('mousemove', this.handleMouseMove);\r\n\r\n        document.body.addEventListener('touchstart', this.handleTouchStart);\r\n        document.body.addEventListener('touchend', this.handleTouchEnd);\r\n        document.body.addEventListener('touchmove', this.handleTouchMove);\r\n    }\r\n\r\n    private handleTouchStart = (event: TouchEvent) => {\r\n        for (let i = 0; i < event.touches.length; i++) {\r\n            this.mouseDown = true;\r\n            this.mouseDownX = (event.touches[i] as Touch).clientX;\r\n            this.mouseDownY = (event.touches[i] as Touch).clientY;\r\n            this.mouseDownTimestamp = Date.now();\r\n            break;\r\n        }\r\n    }\r\n\r\n    private handleTouchEnd = (event: TouchEvent) => {\r\n        this.handleTouchMove(event);\r\n        this.mouseDown = false;\r\n        this.resetDirections();\r\n    }\r\n\r\n    private handleTouchMove = (event: TouchEvent) => {\r\n        if (this.mouseDown) {\r\n            for (let i = 0; i < event.touches.length; i++) {\r\n                this.mouseMoveX = event.touches[0].clientX;\r\n                this.mouseMoveY = event.touches[0].clientY;\r\n                this.distance = this.getDistance(this.mouseDownX, this.mouseDownY, this.mouseMoveX, this.mouseMoveY);\r\n                if (this.distance > this.mouseDownRadius) {\r\n                    if (this.mouseDownY - this.mouseMoveY > this.mouseDownRadius) {\r\n                        this.mouseTop = true;\r\n                    } else if (this.mouseDownX - this.mouseMoveX > this.mouseDownRadius ) {\r\n                        this.mouseLeft = true;\r\n                    } else if (this.mouseMoveX - this.mouseDownX > this.mouseDownRadius) {\r\n                        this.mouseRight = true;\r\n                    } else {\r\n                        this.mouseBottom = true;\r\n                    }\r\n                } else {\r\n                    this.resetDirections();\r\n                }\r\n                break;\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    private handleMouseDown = (event: MouseEvent) => {\r\n        this.mouseDown = true;\r\n        this.mouseDownX = event.clientX;\r\n        this.mouseDownY = event.clientY;\r\n        this.mouseDownTimestamp = Date.now();\r\n    }\r\n\r\n    private handleMouseUp = (event: MouseEvent) => {\r\n        this.handleMouseMove(event);\r\n        this.mouseDown = false;\r\n        this.resetDirections();\r\n    }\r\n\r\n    private handleMouseMove = (event: MouseEvent) => {\r\n        if (this.mouseDown) {\r\n            this.mouseMoveX = event.clientX;\r\n            this.mouseMoveY = event.clientY;\r\n            this.distance = this.getDistance(this.mouseDownX, this.mouseDownY, this.mouseMoveX, this.mouseMoveY);\r\n            if (this.distance > this.mouseDownRadius) {\r\n                if (this.mouseDownY - this.mouseMoveY > this.mouseDownRadius) {\r\n                    this.mouseTop = true;\r\n                } else if (this.mouseDownX - this.mouseMoveX > this.mouseDownRadius ) {\r\n                    this.mouseLeft = true;\r\n                } else if (this.mouseMoveX - this.mouseDownX > this.mouseDownRadius) {\r\n                    this.mouseRight = true;\r\n                } else {\r\n                    this.mouseBottom = true;\r\n                }\r\n            } else {\r\n                this.resetDirections();\r\n            }\r\n        }\r\n    }\r\n\r\n    private getDistance(x1: number, y1: number, x2: number, y2: number): number {\r\n        const a = x1 - x2;\r\n        const b = y1 - y2;\r\n        return Math.sqrt( a * a + b * b );\r\n    }\r\n\r\n    private resetDirections(): void {\r\n        this.mouseLeft = false;\r\n        this.mouseRight = false;\r\n        this.mouseTop = false;\r\n        this.mouseBottom = false;\r\n    }\r\n\r\n    get left(): boolean {\r\n        return this.mouseLeft;\r\n    }\r\n    get right(): boolean {\r\n        return this.mouseRight;\r\n    }\r\n    get top(): boolean {\r\n        return this.mouseTop;\r\n    }\r\n    get down(): boolean {\r\n        return this.mouseBottom;\r\n    }\r\n    get click(): boolean {\r\n        return !this.mouseDown \r\n            && Date.now() - this.mouseDownTimestamp <= this.clickTimeout \r\n            && this.distance < this.mouseDownRadius\r\n        ;\r\n    }\r\n}","import { Engine, NodeList, System } from \"@ash.ts/ash\";\r\nimport { EntityCreator } from \"../EntityCreator\";\r\nimport { GameConfig } from \"../GameConfig\";\r\nimport { BarrierCollisionNode, BunnyNode, GameNode, SlopeNode } from \"../nodes\";\r\nimport { GameState } from \"../components\";\r\n\r\nexport default class EnvironmentEmitterSystem extends System {\r\n    private barriers: NodeList<BarrierCollisionNode> | null = null;\r\n    private bunny: NodeList<BunnyNode> | null = null;\r\n    private slope: NodeList<SlopeNode> | null = null;\r\n    private game: NodeList<GameNode> | null = null;\r\n    \r\n    private readonly creator: EntityCreator;\r\n    private readonly config: GameConfig;\r\n\r\n    private timeout = 0;\r\n    private addBarrier = false;\r\n\r\n    constructor(creator: EntityCreator, config: GameConfig) {\r\n        super();\r\n        this.creator = creator;\r\n        this.config = config;\r\n    }\r\n\r\n    addToEngine(engine: Engine): void {\r\n        this.barriers = engine.getNodeList(BarrierCollisionNode);\r\n        this.bunny = engine.getNodeList(BunnyNode);\r\n        this.slope = engine.getNodeList(SlopeNode);\r\n        this.game = engine.getNodeList(GameNode);\r\n\r\n        if (!this.slope.head) {\r\n            this.creator.createSlope();\r\n        }\r\n    }\r\n\r\n    removeFromEngine(engine: Engine): void {\r\n        if (this.slope) {\r\n            while (this.slope.head) {\r\n                this.creator.destroyEntity(this.slope.head.entity);\r\n            }\r\n        }\r\n\r\n        if (this.barriers) {\r\n            while (this.barriers.head) {\r\n                this.creator.destroyEntity(this.barriers.head.entity);\r\n            }\r\n        }\r\n        \r\n        this.barriers = null;\r\n        this.bunny = null;\r\n        this.slope = null;\r\n        this.game = null;\r\n    }\r\n\r\n    update(time: number): void {\r\n        if (this.slope && this.slope.head && this.bunny && this.bunny.head) {\r\n            this.slope.head.slope.velocityX = -this.bunny.head.motion.velocityX;\r\n            this.slope.head.position.x = this.bunny.head.position.x;\r\n        }\r\n\r\n        if (this.game && this.game.head && this.game.head.state.state == GameState.PLAY && this.bunny && this.bunny.head) {\r\n            if (!this.timeout) {\r\n                this.timeout = setTimeout(() => {\r\n                    this.addBarrier = true;\r\n                    this.timeout = 0;\r\n                }, Math.floor(((Math.random() * 2) + 1) * 1000));\r\n            }\r\n\r\n            if (this.addBarrier) {\r\n                this.creator.createBarrier(this.bunny.head.position.x + GameConfig.screenWidth);\r\n                this.addBarrier = false;\r\n\r\n                for (let node: BarrierCollisionNode | null | undefined = this.barriers?.head; node; node = node.next) {\r\n                    if (node.position.x < this.bunny.head.position.x - this.config.screenWidth) {\r\n                        this.creator.destroyEntity(node.entity);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import floor from '../assets/floor.png';\r\nimport bunny_flying from '../assets/bunny_flying.png';\r\nimport bunny_riding from '../assets/bunny_riding.png';\r\nimport stopper_idle from '../assets/stopper_idle.png';\r\nimport info_plate_big from '../assets/ui/info_plate_big.png';\r\n\r\nimport gui_json from '../assets/packs/gui.json';\r\nimport gui_png from '../assets/packs/gui.png';\r\nimport { Texture } from '@pixi/core';\r\n\r\nexport default class AssetsLoader {\r\n    private json: any | null = null;\r\n    private map: Map<string, HTMLCanvasElement> = new Map();\r\n\r\n    public execute(): Promise<this> {\r\n        const arr: Array<Promise<any>> = [];\r\n\r\n        arr.push(this.loadJSON(gui_json));\r\n        arr.push(this.loadImage(floor));\r\n        arr.push(this.loadImage(bunny_flying));\r\n        arr.push(this.loadImage(bunny_riding));\r\n        arr.push(this.loadImage(stopper_idle));\r\n        arr.push(this.loadImage(info_plate_big));\r\n        arr.push(this.loadImage(gui_png));\r\n\r\n        return Promise.all(arr)\r\n            .then(() => {\r\n                return Promise.resolve(this)\r\n            });\r\n    }\r\n\r\n    private getImageFromMap(fileName: string): HTMLCanvasElement | null {\r\n        const itr: IterableIterator<string> = this.map.keys();\r\n\r\n        for (let key: string = itr.next().value; key; key = itr.next().value) {\r\n            if (key.indexOf(fileName) > -1) {\r\n                return this.map.get(key) as HTMLCanvasElement;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public getTexture(fileName: string): Texture | null {\r\n        const canvas: HTMLCanvasElement | null = this.getImageFromMap(fileName);\r\n        if (canvas) {\r\n            return Texture.from(canvas);\r\n        }\r\n\r\n        if (this.json.frames[`${fileName}.png`]) {\r\n            const element: any = this.json.frames[`${fileName}.png`];\r\n            const sheet: HTMLCanvasElement | null = this.getImageFromMap('gui');\r\n            \r\n            const canvas: HTMLCanvasElement = document.createElement('canvas');\r\n            canvas.width = element.spriteSourceSize.w;\r\n            canvas.height = element.spriteSourceSize.h;\r\n\r\n            const ctx: CanvasRenderingContext2D = canvas.getContext('2d')!;\r\n            ctx.drawImage(sheet!, \r\n                element.frame.x, \r\n                element.frame.y,\r\n                element.frame.w,\r\n                element.frame.h,\r\n                0,\r\n                0,\r\n                canvas.width,\r\n                canvas.height,\r\n            );\r\n            // document.body.appendChild(canvas)\r\n            return Texture.from(canvas);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private loadImage(url: string): Promise<any> {\r\n        return new Promise(resolve => {\r\n            const image: HTMLImageElement = document.createElement('img');\r\n            image.onload = () => {\r\n                const canvas: HTMLCanvasElement = document.createElement('canvas');\r\n                canvas.width = image.width;\r\n                canvas.height = image.height;\r\n                const ctx: CanvasRenderingContext2D = canvas.getContext('2d')!;\r\n                ctx.drawImage(image, 0, 0);\r\n                this.map.set(url, canvas);\r\n\r\n                resolve(true);\r\n            }\r\n            image.src = url;\r\n        });\r\n    }\r\n\r\n    private loadJSON(url: string): Promise<any> {\r\n        return new Promise(resolve => {\r\n            // const data64 = btoa(JSON.stringify(url));\r\n            // const dataURL = `data:text/json;base64, ${data64}`;\r\n\r\n            this.json = url;//dataURL;\r\n    \r\n            resolve(true);\r\n        });\r\n    }\r\n}","import { Engine, FrameTickProvider } from '@ash.ts/ash';\r\nimport { EntityCreator } from './EntityCreator';\r\nimport { GameConfig } from './GameConfig';\r\nimport { KeyPoll } from './KeyPoll';\r\nimport {\r\n    AnimationSystem,\r\n    AudioSystem,\r\n    CollisionSystem,\r\n    DeathThroesSystem,\r\n    GameManager,\r\n    HudSystem,\r\n    MotionControlSystem,\r\n    MovementSystem,\r\n    RenderSystem,\r\n    SystemPriorities,\r\n} from './systems';\r\nimport { loadAudioDB } from './sounds';\r\nimport { TouchPoll } from './TouchPoll';\r\nimport EnvironmentEmitterSystem from './systems/EnvironmentEmitterSystem';\r\nimport AssetsLoader from './AssetsLoader';\r\n\r\nasync function skip(tickProvider: FrameTickProvider, count = 1) {\r\n    let resolve: Function | null = null;\r\n\r\n    const foo = (time: number) => {\r\n        count--;\r\n        if (!count) {\r\n            tickProvider.remove(foo);\r\n            resolve!(true);\r\n        }\r\n    }\r\n\r\n    return new Promise(res => {\r\n        resolve = res;\r\n        tickProvider.add(foo);\r\n    });\r\n}\r\n\r\nexport async function game(container: HTMLElement): Promise<void> {\r\n\r\n    const assets: AssetsLoader = new AssetsLoader();\r\n    await assets.execute();\r\n\r\n    const config = new GameConfig(container.clientWidth, container.clientHeight);\r\n    const engine = new Engine();\r\n    const creator = new EntityCreator(engine, config, assets);\r\n    const keyPoll = new KeyPoll();\r\n    const touchPoll = new TouchPoll();\r\n    const tickProvider = new FrameTickProvider();\r\n\r\n    const audioContext = new AudioContext();\r\n    const audioDB = await loadAudioDB(audioContext);\r\n\r\n    tickProvider.add((delta: number) => engine.update(delta));\r\n    tickProvider.start();\r\n\r\n    engine.addSystem(new RenderSystem(container, { emitStageEvents: true }, creator, config), SystemPriorities.render);\r\n\r\n    await skip(tickProvider, 100);\r\n    \r\n    engine.addSystem(new GameManager(creator, config), SystemPriorities.preUpdate);\r\n    engine.addSystem(new MotionControlSystem(keyPoll, touchPoll), SystemPriorities.update);\r\n    engine.addSystem(new DeathThroesSystem(creator), SystemPriorities.update);\r\n    engine.addSystem(new MovementSystem(creator, config), SystemPriorities.move);\r\n    engine.addSystem(new CollisionSystem(creator), SystemPriorities.resolveCollisions);\r\n    engine.addSystem(new AnimationSystem(), SystemPriorities.animate);\r\n    engine.addSystem(new HudSystem(), SystemPriorities.preUpdate);\r\n    engine.addSystem(new EnvironmentEmitterSystem(creator, config), SystemPriorities.preUpdate);\r\n\r\n    //   engine.addSystem(new AudioSystem(audioContext, audioDB), SystemPriorities.audio);\r\n\r\n    creator.createGame();\r\n}","\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport { game } from '@/game/Game';\r\nimport { GameState } from '@/game/components';\r\n\r\n@Component({\r\n  components: {}\r\n})\r\nexport default class Game extends Vue {\r\n    mounted() {\r\n        setTimeout(() => {\r\n            game(this.$refs.game as HTMLElement);\r\n        }, 100);\r\n    }\r\n\r\n    destroyed() {\r\n        console.log('Game', 'destroyed')\r\n    }\r\n\r\n    private handleClick(): void {\r\n        console.log(' CLICK')\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=77c8f861&scoped=true&\"\nimport script from \"./Game.vue?vue&type=script&lang=ts&\"\nexport * from \"./Game.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&id=77c8f861&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77c8f861\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport \"@/styles/assets.styl\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Game from \"./vue/Game.vue\";\n\n@Component({\n    components: {\n        Game\n    },\n})\nexport default class App extends Vue {\n    mounted() {\n        console.log(\"App mounted\");\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=bd1513aa&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount('#app');","module.exports = __webpack_public_path__ + \"media/ship.fc37c3a9.mp3\";","module.exports = __webpack_public_path__ + \"img/info_plate_big.9bdc4dae.png\";","module.exports = __webpack_public_path__ + \"img/floor.352dcc7e.png\";","module.exports = __webpack_public_path__ + \"img/gui.bc341b8a.png\";"],"sourceRoot":""}